import t,{useMemo as o,useState as e,useRef as r}from"react";import i from"../tooltip";import n from"../utils/with-defaults";import p from"../use-clipboard";import{__DEV__ as s}from"../utils/assertion";import l from"./snippet-icon";import{StyledSnippet as c,StyledSnippetPre as m,StyledSnippetCopyButton as u}from"./snippet.styles";import{jsx as a}from"react/jsx-runtime";import{jsxs as d}from"react/jsx-runtime";const x=({bordered:t,children:n,symbol:s,showTooltip:x,text:f,tooltipCopyText:y,tooltipCopiedText:h,tooltipColor:C,copy:b,...T})=>{const[N,$]=e(!1),{copy:j}=p(),w=r(null),A=f&&Array.isArray(f),g=o((()=>"prevent"!==b),[b]),k=o((()=>A?(t=>t.reduce(((t,o)=>o?t?`${t}\n${o}`:o:t),""))(f):n?w.current?w.current.textContent:"":f),[w.current,n,f]),v=o((()=>{const t=s.trim();return t?`${t} `:""}),[s]),S=()=>{k&&g&&(j(k),"slient"!==b&&$(!0))};return d(c,{...T,children:[A?f.map(((t,o)=>a(m,{className:"nextui-snippet-pre",css:{"&:before":{content:v,us:"none"}},children:t},`${o}-${t}`))):a(m,{ref:w,className:"nextui-snippet-pre",css:{"&:before":{content:v,us:"none"}},children:n||f}),g&&"slient"!==b?a(i,{hideArrow:!0,rounded:!0,color:C,content:N?h:y,onVisibleChange:()=>{setTimeout((()=>{N&&$(!1)}),400)},children:a(u,{className:"nextui-snippet-copy-button",onClick:S,children:a(l,{})})}):"prevent"!==b&&a(u,{className:"nextui-snippet-copy-button",onClick:S,children:a(l,{})})]})};s&&(x.displayName="NextUI.Snippet"),x.toString=()=>".nextui-snippet";const f=t.memo(x);export default n(f,{symbol:"$",showTooltip:!0,copy:"default",tooltipColor:"default",tooltipCopyText:"Copy",tooltipCopiedText:"Copied"});