import e,{useEffect as t,useRef as r,useState as i}from"react";import{styled as n}from"../theme/stitches.config";import a from"../utils/with-defaults";import o from"../use-real-shape";import{jsx as c}from"react/jsx-runtime";const s=n("div",{p:0,m:0,h:0,opacity:0,overflow:"hidden",variants:{expanded:{true:{opacity:1}}}});export default a((({isExpanded:e,delay:n,animated:a,css:u,children:m})=>{const[d,h]=i(e?"auto":"0"),[l,p]=i(e),f=r(null),x=r(),T=r(),w=r(),[g,y]=o(f);return t((()=>h(`${g.height}px`)),[g.height]),t((()=>{if(e!==l)return e||(y(),h(`${g.height}px`)),x.current=window.setTimeout((()=>{p(e),clearTimeout(x.current)}),30),e?w.current=window.setTimeout((()=>{h("auto"),clearTimeout(w.current)}),n):T.current=window.setTimeout((()=>{clearTimeout(T.current)}),n/2),()=>{clearTimeout(x.current),clearTimeout(T.current),clearTimeout(w.current)}}),[e]),c(s,{css:{height:l?d:"0",transition:a?`height ${n}ms ease 0ms,\n    opacity ${1.5*n}ms ease 0ms;`:"none",...u},expanded:l,children:c("div",{ref:f,className:"nextui-expand-content",children:m})})}),{isExpanded:!1,animated:!0,delay:200});