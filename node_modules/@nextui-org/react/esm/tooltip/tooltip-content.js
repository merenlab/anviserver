import t,{useEffect as o,useMemo as e,useRef as r,useState as i}from"react";import{createPortal as s}from"react-dom";import a from"../use-portal";import m from"../use-resize";import n from"../utils/css-transition";import l from"../use-click-anywhere";import p from"../utils/clsx";import c from"../utils/with-defaults";import{StyledTooltipContent as f,StyledTooltip as u,StyledTooltipArrow as d}from"./tooltip.styles";import{getRect as h,getPlacement as w,defaultTooltipPlacement as x,getIconPlacement as $}from"./placement";import{jsx as v}from"react/jsx-runtime";import{jsxs as g}from"react/jsx-runtime";const N="nextui-tooltip",b=({children:t,parent:c,visible:b,offset:j,placement:y,rounded:k,animated:A,className:P,hideArrow:T,css:z,...C})=>{const E=a("tooltip"),I=r(null),[S,q]=i(x);if(!c)return null;const B=()=>{const t=w(y,h(c),j);q(t)},{transform:D,top:F,left:G,right:H,bottom:J}=e((()=>$(y,5)),[y]);m(B),l((()=>B())),o((()=>{B()}),[b]);const K=e((()=>b?"open":"closed"),[b]);return E?s(v(n,{enterTime:20,leaveTime:20,name:`${N}-wrapper`,visible:b,children:v(f,{ref:I,animated:A,className:p(`${N}-content`,`${N}--${K}`,P),css:{left:S.left,top:`calc(${S.top} + 6px)`,transform:S.transform,[`&.${N}-wrapper-enter-active`]:{opacity:1,top:S.top},...z},"data-state":K,onClick:t=>{t.stopPropagation(),t.nativeEvent.stopImmediatePropagation()},...C,children:g(u,{className:p(N,{[`${N}--with-arrow`]:!T}),"data-state":K,hideArrow:T,role:"tooltip",children:[v(d,{className:`${N}-arrow`,css:{left:G,top:F,right:H,bottom:J,transform:D}}),t]})})}),E):null};b.toString=()=>".nextui-tooltip-content";export default c(b,{placement:"top",offset:12,className:""});