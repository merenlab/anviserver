import{useMemo as t,useCallback as r,useState as e,useEffect as n}from"react";import{range as i}from"../utils/numbers";export const DOTS="dots";export default({page:o,total:a,siblings:s=1,boundaries:u=1,initialPage:l=1,onChange:c})=>{const[f,m]=e(o||l);n((()=>{o&&o!==f&&m(o)}),[o]);const g=r((t=>{m(t),null==c||c(t)}),[m,c]),p=r((t=>{g(t<=0?1:t>a?a:t)}),[g,a]);return{range:t((()=>{if(2*s+3+2*u>=a)return i(1,a);const t=Math.max(f-s,u),r=Math.min(f+s,a-u),e=t>u+2,n=r<a-(u+1);if(!e&&n){return[...i(1,2*s+u+2),DOTS,...i(a-(u-1),a)]}if(e&&!n){const t=u+1+2*s;return[...i(1,u),DOTS,...i(a-t,a)]}return[...i(1,u),DOTS,...i(t,r),DOTS,...i(a-u+1,a)]}),[a,s,f]),active:f,setPage:p,next:()=>p(f+1),previous:()=>p(f-1),first:()=>p(1),last:()=>p(a)}};