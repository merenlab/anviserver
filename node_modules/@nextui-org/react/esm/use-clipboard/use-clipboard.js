import{useCallback as o}from"react";import e from"../use-portal";import{warn as t}from"../utils/console";import{__DEV__ as r}from"../utils/assertion";const n={onError:()=>r&&t("Failed to copy.","use-clipboard")};export default(t=n)=>{const r=e("clipboard"),c=o((o=>{((o,e)=>{if(!o||!e)return;const r=window.getSelection();if(!r)return;o.style.whiteSpace="pre",o.textContent=e;const n=window.document.createRange();r.removeAllRanges(),n.selectNode(o),r.addRange(n);try{window.document.execCommand("copy")}catch(o){t.onError&&t.onError()}r.removeAllRanges(),o&&(o.textContent="")})(r,o)}),[r]);return{copy:c}};