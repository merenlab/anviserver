import e,{useMemo as o}from"react";import{useTable as t}from"@react-aria/table";import{useTableState as r}from"@react-stately/table";import{mergeProps as i}from"@react-aria/utils";import{Spacer as a}from"../index";import{pickSingleChild as l}from"../utils/collections";import n from"../utils/with-defaults";import s from"../utils/clsx";import{useDOMRef as m}from"../utils/dom";import c from"./table-row-group";import d from"./table-column-header";import h from"./table-header-row";import p from"./table-select-all-checkbox";import u from"./table-pagination";import b from"./table-footer";import f from"./table-body";import{StyledTable as x,StyledTableContainer as g}from"./table.styles";import w from"./table-context";import{isInfinityScroll as v,hasPaginationChild as y}from"./utils";import{jsx as P}from"react/jsx-runtime";import{jsxs as k}from"react/jsx-runtime";const N=e.forwardRef(((n,N)=>{const{css:S,selectionMode:C,selectionBehavior:j,hideLoading:M,children:L,shadow:B,color:I,animated:R,borderWeight:W,bordered:F,hoverable:T,sticked:U,containerCss:V,className:q,...z}=n,[A,D]=l(L,u),{hasPagination:E,rowsPerPage:G}=y(L,u),H=r({...n,children:A,showSelectionCheckboxes:void 0!==n.showSelectionCheckboxes?n.showSelectionCheckboxes:"multiple"===C&&"replace"!==j}),J=m(N),{collection:K}=H,{gridProps:O}=t(n,H,J),Q=e.useMemo((()=>({collection:K,color:I,animated:R,rowsPerPage:G})),[K,R,I,G]),X=o((()=>!("none"===C&&!T)),[C,T]);return P(w.Provider,{defaultValues:Q,children:P(g,{borderWeight:W,bordered:F,className:"nextui-table-container",css:V,shadow:B,children:k(x,{ref:J,animated:R,className:s("nextui-table",q),color:I,css:S,hasPagination:E,hoverable:X,isMultiple:"multiple"===C,shadow:B,...i(O,z),children:[k(c,{as:"thead",isFixed:v(K),children:[K.headerRows.map((e=>P(h,{item:e,state:H,children:[...e.childNodes].map((e=>{var o;return null!=e&&null!=(o=e.props)&&o.isSelectionCell?P(p,{animated:R,color:I,column:e,state:H},null==e?void 0:e.key):P(d,{animated:R,column:e,state:H},null==e?void 0:e.key)}))},null==e?void 0:e.key))),!U&&P(a,{as:"tr",className:"nextui-table-hidden-row",y:.4})]}),P(f,{animated:R,collection:K,color:I,hasPagination:E,hideLoading:M,isStatic:!X,state:H}),E&&k(b,{children:[P(a,{as:"tr",className:"nextui-table-hidden-row",y:.6}),P("tr",{role:"row",children:P("th",{colSpan:K.columnCount,role:"columnheader",tabIndex:-1,children:D})})]})]})})})}));N.displayName="NextUI.Table",N.toString=()=>".nextui-table";export default n(N,{animated:!0,hideLoading:!1,selectionMode:"none",selectionBehavior:"toggle"});