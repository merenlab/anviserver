import i,{useEffect as t,useMemo as n}from"react";import{forwardRef as e}from"../utils/system";import{useDOMRef as r}from"../utils/dom";import a from"../utils/clsx";import s from"../use-intersection-observer";import{__DEV__ as l}from"../utils/assertion";import{useNavbarContext as o}from"./navbar-context";import{useNavbarCollapseContext as m}from"./navbar-collapse-context";import{StyledNavbarCollapseItem as u}from"./navbar.styles";import{jsx as p}from"react/jsx-runtime";const c=e(((i,e)=>{var l;const{children:c,className:x,transitionDelay:v,transitionTime:d,transitionMatrix:f,disableAnimation:y,style:b,css:T,...I}=i,O=o(),M=m(),h=r(e),{isVisible:C,setEntry:D}=s(h,{root:null==O||null==(l=O.parentRef)?void 0:l.current,freezeOnceVisible:O.isCollapseOpen});t((()=>{!O.isCollapseOpen&&C&&D(null)}),[C,O.isCollapseOpen]);const N=n((()=>{var i;return null!=M&&M.items?null==(i=M.items)?void 0:i.findIndex((i=>{var t;return(null==i||null==(t=i.props)?void 0:t.children)===c})):-1}),[null==M?void 0:M.items]),$=n((()=>{var i,t,n;return{transitionDelay:null!=(i=null!=v?v:null==M?void 0:M.transitionDelay)?i:0,transitionTime:null!=(t=null!=d?d:null==M?void 0:M.transitionTime)?t:0,transitionMatrix:null!=(n=null!=f?f:null==M?void 0:M.transitionMatrix)?n:{in:"matrix(1, 0, 0, 1, 0, 0)",out:"matrix(0.97, 0, 0, 1, 0, 20)"}}}),[v,d,f,M.transitionMatrix,M.transitionDelay,M.transitionTime]),z=n((()=>M.items&&N>-1?N/M.items.length*.5*1e3+$.transitionDelay:.1),[N,$.transitionDelay,null==M?void 0:M.items]),S=n((()=>{const i=C&&!M.hasScrolled?z:0;return{"--nextui--collapseItemOpacity":C?1:0,"--nextui--collapseItemTransform":C?$.transitionMatrix.in:$.transitionMatrix.out,"--netxui--collapseItemTransition":!y&&O.isCollapseOpen?`opacity ${$.transitionTime}ms cubic-bezier(0.5, 0, 0, 1) ${i}ms, transform ${$.transitionTime}ms cubic-bezier(0.5, 0, 0, 1) ${i}ms`:"none"}}),[N,C,y,z,$.transitionMatrix,$.transitionTime,O.isCollapseOpen,M.hasScrolled]);return p(u,{ref:h,className:a("nextui-navbar-collapse-item",x),css:{opacity:"var(--nextui--collapseItemOpacity)",transition:"var(--netxui--collapseItemTransition)",transform:"var(--nextui--collapseItemTransform)",...T},disableAnimation:y,style:{...b,...S},...I,children:c})}));l&&(c.displayName="NextUI.NavbarCollapseItem"),c.toString=()=>".nextui-navbar-collapse-item";export default c;