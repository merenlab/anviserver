import{useMemo as r,useState as a}from"react";import{addColorAlpha as o}from"../utils/color";import{arrayToObject as e}from"../utils/object";import l from"../use-scroll-position";import{globalCss as n}from"../theme/stitches.config";import t from"../use-theme";export function useNavbar(s={}){const{css:i,containerCss:$,parentRef:c,isBordered:d,variant:u="static",height:b="76px",borderWeight:g="light",shouldHideOnScroll:p=!1,disableScrollHandler:v=!1,onScrollPositionChange:h,disableBlur:m=!1,className:f,...C}=s,[k,B]=a(!1),[x,H]=a(!1),{theme:y}=t(),P=r((()=>d?`$borderWeights$${g}`:"0px"),[d,g]),S=r((()=>m||x),[m,x]),W=r((()=>"number"==typeof b?`${b}px`:b),[b]);n({":root":{$$navbarHeight:W,$$navbarCompactHeight:"calc($$navbarHeight * 0.7)",$$navbarTextColor:"$colors$text",$$navbarBackgroundColor:"$colors$background",$$navbarBlurBackgroundColor:"$colors$backgroundAlpha",$$navbarItemMaxHeight:"calc($$navbarHeight * 0.5)",$$navbarCompactItemMaxHeight:"calc($$navbarHeight * 0.5)",$$navbarBorderColor:"$colors$border",$$navbarBorderRadius:"$radii$lg",$$navbarPadding:"$space$10",$$navbarFloatingMargin:"$space$10",$$navbarContainerMaxWidth:"$breakpoints$lg",$$navbarShadow:"$shadows$md",$$navbarBorderWeight:P,$$navbarBlur:"10px"}})(),l({elementRef:c,enabled:p||!v,callback:({prevPos:r,currPos:a})=>{null==h||h(a.y),p&&B((o=>{const e=a.y>r.y;return e!==o?e:o}))}});const M=r((()=>{const r=[];var a,l,n,t,s,$;"floating"===u&&r.push({bg:`linear-gradient(180deg, ${o(null==y||null==(a=y.colors)||null==(l=a.background)?void 0:l.value,.95)} 44%, ${o(null==y||null==(n=y.colors)||null==(t=n.background)?void 0:t.value,.46)} 73%, ${o(null==y||null==(s=y.colors)||null==($=s.background)?void 0:$.value,0)})`});p&&r.push({position:"sticky",top:0,right:0,left:0,transform:k?"translateY(-100%)":"translateY(0)",transition:"transform 400ms ease"});return{...e(r),...i}}),[i,null==y?void 0:y.colors,u,p,k]);return{css:i,variant:u,sticky:k,isBordered:d,containerCss:$,navbarCss:M,parentRef:c,borderWeight:g,shouldHideOnScroll:p,disableBlur:S,isCollapseOpen:x,setIsCollapseOpen:H,className:f,otherProps:C}}