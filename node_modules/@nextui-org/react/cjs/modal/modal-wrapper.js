var e=require("@babel/runtime/helpers/interopRequireDefault");exports.__esModule=!0,exports.default=void 0;var t=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=u?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,r&&r.set(e,n);return n}(require("react")),r=e(require("../utils/with-defaults")),n=e(require("../utils/css-transition")),u=require("../utils/collections"),l=require("../use-keyboard"),o=e(require("../utils/clsx")),a=e(require("./modal-close-button")),s=require("./modal.styles"),i=require("react/jsx-runtime");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}const d="nextui-modal",f=({className:e,children:r,visible:c,fullScreen:f,closeButton:m,rebound:b,animated:p,onCloseButtonClick:x,scroll:y,...h})=>{const v=(0,t.useRef)(null),j=(0,t.useRef)(null),q=(0,t.useRef)(null),[w,M]=(0,t.useState)(!1);(0,t.useEffect)((()=>{const e=setTimeout((()=>{M(!0),clearTimeout(e)}),300);return()=>clearTimeout(e)}),[]),(0,t.useEffect)((()=>{if(!c)return;const e=document.activeElement;(0,u.isChildElement)(v.current,e)||j.current&&j.current.focus()}),[c]);const T=e=>{const t=e.keyCode===l.KeyCode.Tab;if(!c||!t)return;const r=document.activeElement;e.shiftKey?r===j.current&&q.current&&q.current.focus():r===q.current&&j.current&&j.current.focus()},$=()=>{x&&x()},O=(0,t.useMemo)((()=>c?"open":"closed"),[c]),g=(0,t.useMemo)((()=>(0,i.jsxs)(s.StyledModal,{ref:v,"aria-modal":c,className:(0,o.default)(d,`${d}--${O}`,{[`${d}-fullscreen`]:f,[`${d}-with-close-button`]:m,[`${d}-rebound`]:b,[`${d}-rendered`]:w},e),closeButton:m,"data-state":O,fullScreen:f,role:"dialog",scroll:y,tabIndex:-1,...h,onKeyDown:T,children:[(0,i.jsx)(s.StyledModalHideTab,{ref:j,"aria-hidden":"true",className:`${d}-hide-tab`,role:"button",tabIndex:0}),m&&(0,i.jsx)(a.default,{onClick:$}),r,(0,i.jsx)(s.StyledModalHideTab,{ref:q,"aria-hidden":"true",className:`${d}-hide-tab`,role:"button",tabIndex:0})]})),[b,r]);return(0,i.jsx)(i.Fragment,{children:p?(0,i.jsx)(n.default,{clearTime:300,enterTime:20,leaveTime:20,name:`${d}-wrapper`,visible:c,children:g}):c?g:null})};f.toString=()=>".nextui-modal-wrapper";var m=(0,r.default)(f,{className:"",visible:!1,rebound:!1});exports.default=m,module.exports=exports.default;