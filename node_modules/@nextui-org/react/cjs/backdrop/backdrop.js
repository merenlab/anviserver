var e=require("@babel/runtime/helpers/interopRequireDefault");exports.__esModule=!0,exports.default=void 0;var t=d(require("react")),r=e(require("../utils/with-defaults")),a=e(require("../utils/css-transition")),n=e(require("../use-current-state")),i=e(require("../utils/clsx")),l=d(require("../use-keyboard")),u=require("../utils/assertion"),s=require("./backdrop.styles"),o=require("react/jsx-runtime");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=n?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}return a.default=e,r&&r.set(e,a),a}const p="nextui-backdrop",f=t.default.memo((({children:e,onClick:r,onKeyPress:u,visible:c,maxWidth:d,blur:f,animated:b,opacity:m,preventDefault:y,className:x,css:k,...v})=>{const[,h,j]=(0,n.default)(!1),q=e=>{j.current||r&&r(e)},M=(0,t.useCallback)((e=>{e.stopPropagation()}),[]),O=()=>{if(!j.current)return;const e=setTimeout((()=>{h(!1),clearTimeout(e)}),0)},{bindings:$}=(0,l.default)((e=>{u&&u(e)}),[l.KeyCode.Escape,l.KeyCode.Space],{disableGlobalEvent:!0,preventDefault:y}),g=(0,t.useMemo)((()=>c?"open":"closed"),[c]),w=(0,t.useMemo)((()=>(0,o.jsxs)(s.StyledBackdrop,{"aria-hidden":!0,className:(0,i.default)(p,`${p}--${g}`,x),css:{$$backdropOpacity:m,...k},"data-state":g,role:"button",tabIndex:-1,onClick:q,onMouseUp:O,...$,...v,children:[(0,o.jsx)(s.StyledBackdropLayer,{animated:b,blur:f,className:(0,i.default)(`${p}-layer`,f?`${p}-layer-blur`:`${p}-layer-default`)}),(0,o.jsx)(s.StyledBackdropContent,{animated:b,className:`${p}-content`,css:{maxWidth:d},onClick:M,onMouseDown:()=>h(!0),children:e})]})),[e]);return(0,o.jsx)(o.Fragment,{children:b?(0,o.jsx)(a.default,{clearTime:150,enterTime:20,leaveTime:20,name:`${p}-wrapper`,visible:c,children:w}):c?w:null})}));u.__DEV__&&(f.displayName="NextUI.Backdrop"),f.toString=()=>".nextui-backdrop";var b=(0,r.default)(f,{onClick:()=>{},visible:!1,blur:!1,animated:!0,preventDefault:!0,opacity:.5,className:""});exports.default=b,module.exports=exports.default;