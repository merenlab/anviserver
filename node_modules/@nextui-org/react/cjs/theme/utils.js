var e=require("@babel/runtime/helpers/interopRequireDefault");exports.__esModule=!0,exports.getTokenValue=exports.getThemeName=exports.getDocumentTheme=exports.getDocumentCSSTokens=exports.changeTheme=void 0;var t=e(require("../utils/clsx")),l=require("../utils/color"),r=e(require("./common")),o=e(require("./light-theme"));const u=(e,t,o=1)=>{if("undefined"==typeof document||!e)return"";let s=getComputedStyle(document.documentElement);const n=`--${r.default.prefix}-${e}-${t}`,c=s.getPropertyValue(n);if(c&&c.includes("var")&&u(e,c),c&&1!==o){if(c.includes("rgb"))return(0,l.rgbToRgba)(c,o);if(c.includes("#"))return(0,l.hexToRGBA)(c,o)}return c};exports.getTokenValue=u;exports.getDocumentCSSTokens=()=>{const e=[...Object.keys(r.default.theme.colors),...Object.keys(o.default.colors)],t=Object.keys(o.default.shadows);return{colors:e.reduce(((e,t)=>{const l=u("colors",t);return l&&(e[t]={prefix:r.default.prefix,scale:"colors",token:t,value:l}),e}),{}),shadows:t.reduce(((e,t)=>{const l=u("shadows",t);return l&&(e[t]={prefix:r.default.prefix,scale:"shadows",token:t,value:l}),e}),{})}};exports.getDocumentTheme=e=>{var t;const l=(null==e||null==(t=e.getAttribute("style"))?void 0:t.split(";").map((e=>e.trim())).filter((e=>e.includes("color-scheme"))))||[],r=l.length>0?l[0].replace("color-scheme: ","").replace(";",""):"";return(null==e?void 0:e.getAttribute("data-theme"))||r};const s=e=>"string"==typeof e&&null!=e&&e.includes("-theme")?null==e?void 0:e.replace("-theme",""):e;exports.getThemeName=s;exports.changeTheme=e=>{var l,r;if(!document)return;const o=document.documentElement,u=(null==o||null==(l=o.getAttribute("class"))?void 0:l.split(" ").filter((e=>!e.includes("theme")&&!e.includes("light")&&!e.includes("dark"))))||[],n=(null==o||null==(r=o.getAttribute("style"))?void 0:r.split(";").filter((e=>!e.includes("color-scheme")&&e.length)).map((e=>`${e};`)))||[],c=s(e);null==o||o.setAttribute("class",(0,t.default)(u,`${c}-theme`)),null==o||o.setAttribute("style",(0,t.default)(n,`color-scheme: ${c};`))};