var e=require("@babel/runtime/helpers/interopRequireDefault");exports.__esModule=!0,exports.default=void 0;var t=x(require("react")),r=require("@react-aria/focus"),a=require("@react-aria/utils"),i=require("../utils/console"),l=e(require("../use-current-state")),s=e(require("../utils/expand")),n=x(require("../use-keyboard")),d=e(require("../utils/clsx")),o=e(require("../utils/with-defaults")),u=require("./collapse-context"),c=require("./collapse.styles"),f=e(require("./collapse-icon")),p=require("react/jsx-runtime");function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(b=function(e){return e?r:t})(e)}function x(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=b(t);if(r&&r.has(e))return r.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var s=i?Object.getOwnPropertyDescriptor(e,l):null;s&&(s.get||s.set)?Object.defineProperty(a,l,s):a[l]=e[l]}return a.default=e,r&&r.set(e,a),a}const v="nextui-collapse",h=({children:e,title:o,subtitle:b,expanded:x,shadow:h,className:m,divider:j,arrowIcon:w,showArrow:y,disabled:q,onChange:g,bordered:C,contentLeft:N,preventDefault:$,animated:M,borderWeight:O,index:D,...E})=>{const[I,P,k]=(0,l.default)(x),{values:S,divider:V,animated:W,updateValues:_}=(0,u.useCollapseContext)(),{isFocusVisible:F,focusProps:A}=(0,r.useFocusRing)();o||(0,i.warn)('"title" is required.',"Collapse"),(0,t.useEffect)((()=>{I!==x&&P(x)}),[x]),(0,t.useEffect)((()=>{if(!S.length)return;const e=!!S.find((e=>e===D));P(e)}),[S.join(",")]);const K=(0,a.useId)(),R=(0,a.useId)(),G=(0,t.useMemo)((()=>y?w||(0,p.jsx)(f.default,{}):null),[w,y]),L=void 0===V?j:V,z=(0,t.useMemo)((()=>void 0===W?M:W),[W,M]),B=e=>{if(q)return;const t=!k.current;P(t),_&&_(D,t),g&&g(e,D,t)},{bindings:H}=(0,n.default)((e=>{B(e)}),[n.KeyCode.Enter,n.KeyCode.Space],{disableGlobalEvent:!0,preventDefault:$}),J=(0,t.useMemo)((()=>I?"open":"closed"),[I]);return(0,p.jsxs)(c.StyledCollapse,{animated:z,borderWeight:O,bordered:C,className:(0,d.default)(m,v,`${v}--${J}`),"data-state":J,divider:L,shadow:h,tabIndex:-1,visible:I,...E,children:[(0,p.jsx)(c.StyledCollapseView,{"aria-controls":R,"aria-disabled":q,"aria-expanded":I,className:`${v}-view`,"data-state":J,disabled:q,id:K,isFocusVisible:F,role:"button",tabIndex:q?-1:0,onClick:B,...A,...H,children:(0,p.jsxs)("div",{className:(0,d.default)(`${v}-title-container`),children:[N&&(0,p.jsx)("div",{className:`${v}-title-content-left`,children:N}),(0,p.jsxs)("div",{className:`${v}-title-content`,children:[t.default.isValidElement(o)?o:(0,p.jsx)("h3",{className:`${v}-title`,children:o}),b&&(0,p.jsx)("div",{className:`${v}-subtitle`,children:b})]}),(0,p.jsx)("div",{className:`${v}-title-content-right`,children:G})]})}),(0,p.jsx)(s.default,{animated:z,isExpanded:I,children:(0,p.jsx)(c.StyledCollapseContent,{"aria-labelledby":K,className:`${v}-content`,id:R,role:"region",tabIndex:-1,children:e})})]})};h.toString=()=>".nextui-collapse";var m=(0,o.default)(h,{shadow:!1,divider:!0,bordered:!1,showArrow:!0,animated:!0,disabled:!1,preventDefault:!0,expanded:!1});exports.default=m,module.exports=exports.default;