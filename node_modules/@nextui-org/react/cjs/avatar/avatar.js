var e=require("@babel/runtime/helpers/interopRequireDefault");exports.__esModule=!0,exports.default=exports.Avatar=void 0;var t=require("@react-aria/focus"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var u=s?Object.getOwnPropertyDescriptor(e,n):null;u&&(u.get||u.set)?Object.defineProperty(a,n,u):a[n]=e[n]}a.default=e,r&&r.set(e,a);return a}(require("react")),a=require("@react-aria/utils"),s=require("../utils/dom"),n=require("../utils/assertion"),u=e(require("../utils/clsx")),i=e(require("./avatar.styles")),o=require("react/jsx-runtime");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}const c=e=>(null==e?void 0:e.length)<=4?e:null==e?void 0:e.slice(0,3),f=r.default.forwardRef(((e,n)=>{const{as:l,src:f,css:p,text:d,icon:v,alt:x,className:m,imgRef:y,...b}=e,g=(0,s.useDOMRef)(n),j=!f,[q,O]=(0,r.useState)(!1),M=(0,s.useDOMRef)(y),{isFocusVisible:N,focusProps:_}=(0,t.useFocusRing)();(0,r.useEffect)((()=>{var e;(null==M||null==(e=M.current)?void 0:e.complete)&&O(!0)}),[]);const h=(0,r.useMemo)((()=>!q&&f?"loading":"ready"),[f,q]),P=(0,r.useMemo)((()=>{if("button"===l)return{appearance:"none",outline:"none",border:"none",cursor:"pointer"}}),[l]);return(0,o.jsxs)(i.default,{ref:g,as:l,...(0,a.mergeProps)(b,_),className:(0,u.default)({"only-text-avatar":j},m),css:{...P,...p},"data-state":h,isFocusVisible:N,children:[(0,o.jsx)("span",{className:"nextui-avatar-bg"}),!j&&(0,o.jsx)("img",{ref:M,alt:x,className:(0,u.default)("nextui-avatar-img",`nextui-avatar--${h}`,{"nextui-avatar-ready":q}),"data-state":h,src:f,onLoad:()=>O(!0)}),j&&!v&&d&&(0,o.jsx)("span",{className:"nextui-avatar-text",children:c(d)}),v&&(0,o.jsx)("span",{className:"nextui-avatar-icon",children:v})]})}));exports.Avatar=f,n.__DEV__&&(f.displayName="NextUI.Avatar"),f.toString=()=>".nextui-avatar";var p=f;exports.default=p;