var e=require("@babel/runtime/helpers/interopRequireDefault");exports.__esModule=!0,exports.default=void 0;var t=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var l=b(t);if(l&&l.has(e))return l.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var a=o?Object.getOwnPropertyDescriptor(e,n):null;a&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n]}r.default=e,l&&l.set(e,r);return r}(require("react")),l=require("@react-aria/utils"),r=require("../index"),o=e(require("../utils/clsx")),n=require("./table.styles"),a=e(require("./table-row-group")),i=e(require("./table-row")),u=e(require("./table-cell")),s=e(require("./table-checkbox-cell")),d=require("./table-context"),c=require("./utils"),p=require("react/jsx-runtime");function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,l=new WeakMap;return(b=function(e){return e?l:t})(e)}const f=({children:e,collection:b,state:f,animated:y,color:h,hasPagination:x,hideLoading:g,isStatic:v,...m})=>{var j,S,q,w,M,P;const{currentPage:C,rowsPerPage:N,collection:O,setCollection:k}=(0,d.useTableContext)(),T=(0,t.useMemo)((()=>(0,c.isInfinityScroll)(b)),[b.body.props]);t.default.useEffect((()=>{b!==O&&(null==k||k(b))}),[b,O]);const B="loading"===(null==(j=b.body)||null==(S=j.props)?void 0:S.loadingState)||"loadingMore"===(null==(q=b.body)||null==(w=q.props)?void 0:w.loadingState),L=(0,t.useMemo)((()=>{const e=[...b.body.childNodes];return x?null==e?void 0:e.slice((C-1)*N,C*N):e}),[x,b,C,N]),E=(0,t.useMemo)((()=>{const e=L.length;return e>=N&&!T?null:(0,p.jsx)("tr",{"aria-hidden":"true",className:"nextui-table-hidden-row",role:"row",children:(0,p.jsx)(n.StyledBaseTableCell,{"aria-hidden":"true",colSpan:b.columnCount,css:{height:"var(--nextui--tableBodyEmptySpaceHeight)"},style:(0,l.mergeProps)({"--nextui--tableBodyEmptySpaceHeight":T?"var(--nextui-space-10)":`calc(${N-e} * var(--nextui-space-15))`},(null==m?void 0:m.style)||{})})})}),[b.columnCount,L,N,T]);return(0,p.jsxs)(a.default,{as:"tbody",className:(0,o.default)("nextui-table-body",m.className),css:{position:"relative",...m.css,...null==(M=b.body)||null==(P=M.props)?void 0:P.css},isInfinityScroll:T,onScroll:e=>{if(!T)return;const t=e.target;var l,r;t.scrollHeight-(t.scrollTop+40)<=t.clientHeight&&!B&&(null==(l=b.body)||null==(r=l.props)||null==r.onLoadMore||r.onLoadMore())},...m,children:[e,null==L?void 0:L.map((e=>e.hasChildNodes?(0,p.jsx)(i.default,{"aria-hidden":"false",item:e,state:f,children:[...e.childNodes].map((e=>{var t;return null!=e&&null!=(t=e.props)&&t.isSelectionCell?(0,p.jsx)(s.default,{animated:y,cell:e,color:h,state:f},null==e?void 0:e.key):(0,p.jsx)(u.default,{cell:e,isStatic:v,state:f},null==e?void 0:e.key)}))},null==e?void 0:e.key):null)),!g&&B&&(0,p.jsx)(n.StyledTableLoadingRow,{"aria-hidden":"true",className:"nextui-table-hidden-row",isAbsolute:!T,isAtEnd:L.length>0,role:"row",children:(0,p.jsx)(n.StyledBaseTableCell,{"aria-hidden":"true",colSpan:b.columnCount,children:(0,p.jsx)(r.Loading,{color:h})})}),E]})};f.displayName="NextUI.TableBody",f.toString=()=>".nextui-table-body";var y=f;exports.default=y,module.exports=exports.default;